<script>
  function makeSomeMaps() {
    map = d3.carto.map();

    d3.select("#map").call(map);

    map.addTileLayer("examples.map-zgrqqx0w", "Base", "mapbox", false);
    map.centerOn([-0.1275,51.507],"latlong",5000);
    map.addTopoJSONLayer("http://bl.ocks.org/emeeks/raw/c970c9ee3e242e90004b/sample_routes.topojson","TopoJSON","roads","svg","all");
    map.addCSVLayer("http://bl.ocks.org/emeeks/raw/c970c9ee3e242e90004b/sample_points.csv","CSV Points","pinkcircle",2,"svg","x","y");
    
    d3.select("#map").append("button").attr("class", "marker").html("Change Markers").on("click", changeMarkers);
    
    function changeMarkers() {
          csvLayer.g().selectAll("circle").remove();

          csvLayer.g().selectAll("g.marker")
            .append("rect")
            .attr("class", "bluesquare")
            .attr("height", 5)
            .attr("width",5)
            .attr("x",-2.5)
            .attr("y",-2.5);
    }

  }
</script>
<body onload="makeSomeMaps()">
<div id="map"></div>
<footer>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8" type="text/javascript"></script>
<script src="http://d3js.org/topojson.v1.min.js" type="text/javascript">
</script>
<script src="http://d3js.org/d3.geo.projection.v0.min.js" type="text/javascript">
</script>
<script src="http://d3js.org/colorbrewer.v1.min.js"></script>
<script src="http://bl.ocks.org/emeeks/raw/f3105fda25ff785dc5ed/tile.js" type="text/javascript">
</script>
<script src="http://bl.ocks.org/emeeks/raw/f3105fda25ff785dc5ed/d3.quadtiles.js" type="text/javascript">
</script>
<script src="http://bl.ocks.org/emeeks/raw/f3105fda25ff785dc5ed/d3.geo.raster.js" type="text/javascript">
</script>
<script src="https://rawgit.com/emeeks/d3-carto-map/master/d3.carto.map.js" type="text/javascript">
</script>