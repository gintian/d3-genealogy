<script>

var randomColors = [], numberOfColors = 20;
for (var i = 0; i < 20; i++) {
  randomColors.push(['rgb(' +
    ~~(Math.random() * 255),
    ~~(Math.random() * 255),
    ~~(Math.random() * 255)].join(',') + ')');
}

function draw() {
  d3.select(document.body)
    .now('input', function(element) {
      element
        .attr('type', 'range')
        .attr('min', 0)
        .attr('max', 20)
        .on('input', function() {
            numberOfColors = parseInt(this.value);
            draw();
        });
    })
    .now('div', randomColors.slice(0, numberOfColors), function(element, color) {
      return element
        .style('background', color)
        .now('div', function(element) {
            element.text(color);
        });
    });
}

draw();

</script>