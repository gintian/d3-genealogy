<script>

      var sliceSizeColumn = "population";
      var pie = d3.layout.pie();

      function render(data){

        pie.value(function(d) {
          return d[sliceSizeColumn];
        });

        var pieData = pie(data);

        d3.select("body").append("pre")
          .text(JSON.stringify(pieData, null, 2));
      }

      function type(d){
        d.population = +d.population;
        return d;
      }

      d3.csv("religionWorldTotals.csv", type, render);

    </script>