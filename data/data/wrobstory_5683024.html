<script>

// Create two instances of a chart using d3 selections
var chart_1 = d3.select('#map1')
  .append("svg")
  .attr("height", 500)
  .attr("width", 480)
  .chart("Choropleth")
  .domain([0, 15])
  .range('YlGnBu')
  .projection(d3.geo.albersUsa())
  .scale(500);

var chart_2 = d3.select('#map2')
  .append("svg")
  .attr("height", 500)
  .attr("width", 480)
  .chart("Choropleth")
  .domain([0, 25])
  .range('OrRd')
  .projection(d3.geo.albersUsa())
  .scale(500);

// Load the Data
queue()
    .defer(d3.json, 'Unemployment_2011.json')
    .defer(d3.json, 'us_counties_20m_topo.json')
    .await(makeMap)

function makeMap(error, data, geo) {

  county_feat = topojson.feature(geo, geo.objects.us_counties_20m).features
  bind_data = data[0];
  mapData = {'Geo': county_feat, 'ToBind': bind_data};

  // Draw the charts
  chart_1.draw(mapData)
  chart_2.draw(mapData)

};



</script>